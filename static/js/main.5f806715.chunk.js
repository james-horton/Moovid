(this.webpackJsonpmoovid=this.webpackJsonpmoovid||[]).push([[0],{140:function(e,t,a){e.exports=a.p+"static/media/moo.2f8831eb.png"},141:function(e,t,a){e.exports=a.p+"static/media/moovid-logo.7d14eba4.png"},156:function(e,t,a){e.exports=a.p+"static/media/happy1.1e635bb8.jpg"},157:function(e,t,a){e.exports=a.p+"static/media/happy2.676cc9ba.jpg"},158:function(e,t,a){e.exports=a.p+"static/media/happy3.b918185e.jpg"},159:function(e,t,a){e.exports=a.p+"static/media/happy4.e3f958a6.jpg"},160:function(e,t,a){e.exports=a.p+"static/media/disappointed1.b799bc0f.jpg"},161:function(e,t,a){e.exports=a.p+"static/media/disappointed2.e975cc20.jpg"},162:function(e,t,a){e.exports=a.p+"static/media/disappointed3.abd85bf4.jpg"},163:function(e,t,a){e.exports=a.p+"static/media/disappointed4.ee5122c5.jpg"},164:function(e,t,a){e.exports=a.p+"static/media/disappointed5.bcfe1c1a.jpg"},165:function(e,t,a){e.exports=a.p+"static/media/concerned1.5b3a9be0.jpg"},166:function(e,t,a){e.exports=a.p+"static/media/optimistic1.6a38bbac.jpg"},180:function(e,t,a){e.exports=a(319)},317:function(e,t,a){},319:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(27),i=a.n(s),r=a(11),c=a(12),l=a(14),u=a(13),d=a(324),p=a(70),m=a.n(p),h=a(140),v=a.n(h),g=a(141),f=a.n(g),y=function(){return o.a.createElement("div",{className:m.a.header},o.a.createElement("img",{className:"".concat(m.a.headerlogo," center-image"),src:v.a,alt:"avatar"}),o.a.createElement("img",{className:"".concat(m.a.titlelogo," center-image"),src:f.a,alt:"logo"}))},k=a(326),x=a(327),b=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onSelectionChange=function(e,t){var a=t.value;n.setState({stateCode:a,stateName:e.currentTarget.textContent})},n.onButtonClick=function(){n.props.onSelectionSubmit(n.state.stateCode,n.state.stateName)},n.stateOptions=[{key:"al",text:"Alabama",value:"al"},{key:"ak",text:"Alaska",value:"ak"},{key:"az",text:"Arizona",value:"az"},{key:"ar",text:"Arkansas",value:"ar"},{key:"ca",text:"California",value:"ca"},{key:"co",text:"Colorado",value:"co"},{key:"ct",text:"Connecticut",value:"ct"},{key:"de",text:"Delaware",value:"de"},{key:"dc",text:"District Of Columbia",value:"dc"},{key:"fl",text:"Florida",value:"fl"},{key:"ga",text:"Georgia",value:"ga"},{key:"hi",text:"Hawaii",value:"hi"},{key:"id",text:"Idaho",value:"id"},{key:"il",text:"Illinois",value:"il"},{key:"in",text:"Indiana",value:"in"},{key:"ks",text:"Kansas",value:"ks"},{key:"ky",text:"Kentucky",value:"ky"},{key:"la",text:"Louisiana",value:"la"},{key:"me",text:"Maine",value:"me"},{key:"md",text:"Maryland",value:"md"},{key:"ma",text:"Massachusetts",value:"ma"},{key:"mi",text:"Michigan",value:"mi"},{key:"mn",text:"Minnesota",value:"mn"},{key:"ms",text:"Mississippi",value:"ms"},{key:"mo",text:"Missouri",value:"mo"},{key:"mt",text:"Montana",value:"mt"},{key:"ne",text:"Nebraska",value:"ne"},{key:"nv",text:"Nevada",value:"nv"},{key:"nh",text:"New Hampshire",value:"nh"},{key:"nj",text:"New Jersey",value:"nj"},{key:"nm",text:"New Mexico",value:"nm"},{key:"ny",text:"New York",value:"ny"},{key:"nc",text:"North Carolina",value:"nc"},{key:"nd",text:"North Dakota",value:"nd"},{key:"oh",text:"Ohio",value:"oh"},{key:"ok",text:"Oklahoma",value:"ok"},{key:"or",text:"Oregon",value:"or"},{key:"pa",text:"Pennsylvania",value:"pa"},{key:"ri",text:"Rhode Island",value:"ri"},{key:"sc",text:"South Carolina",value:"sc"},{key:"sd",text:"South Dakota",value:"sd"},{key:"tn",text:"Tennessee",value:"tn"},{key:"tx",text:"Texas",value:"tx"},{key:"ut",text:"Utah",value:"ut"},{key:"vt",text:"Vermont",value:"vt"},{key:"va",text:"Virginia",value:"va"},{key:"wa",text:"Washington",value:"wa"},{key:"wv",text:"West Virginia",value:"wv"},{key:"wi",text:"Wisconsin",value:"wi"},{key:"wy",text:"Wyoming",value:"wy"}],n.state={stateCode:e.defaultStateCode,stateName:e.defaultStateName},n}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"center-text padding-bottom-space"},o.a.createElement(k.a,{placeholder:"State",search:!0,selection:!0,value:this.state.stateCode,onChange:this.onSelectionChange,options:this.stateOptions}),o.a.createElement(x.a,{basic:!0,color:"green",onClick:this.onButtonClick}," Submit"))}}]),a}(o.a.Component),C=a(41),w=a.n(C),S=a(68),N=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={show:!0},e.show=function(){return e.setState({show:!0})},e.hide=function(){return e.setState({show:!1})},e.isShowing=function(){return e.state.show},e}return Object(c.a)(a,[{key:"render",value:function(){return this.state.show?o.a.createElement("div",{className:"padding-bottom-space"},o.a.createElement("div",{className:"ui active centered inline huge text loader"},o.a.createElement("div",{className:"ui text loader"},"Loading"),this.props.message)):null}}]),a}(o.a.Component);N.defaultProps={message:"Loading..."};var O=N,E=a(38),M=a.n(E),j=M.a.create({baseURL:"https://api.covidtracking.com/api/v1/"}),_=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).fetchOverviewStats=Object(S.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.get("states/".concat(n.props.stateCode,"/current.json"),{cancelToken:n.source.token});case 3:t=e.sent,n.responseStatus=t.status,n.setState({currentStats:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),n.state={currentStats:null},n.source=M.a.CancelToken.source(),n.responseStatus=null,n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.fetchOverviewStats()}},{key:"componentWillUnmount",value:function(){null===this.responseStatus&&this.source.cancel("fetch cancelled")}},{key:"render",value:function(){if(this.state.currentStats){var e=this.state.currentStats,t=e.positive,a=e.hospitalizedCurrently,n=e.death;return o.a.createElement("div",{className:"padding-bottom-space"},o.a.createElement("div",{className:"ui stackable three column grid statistics"},o.a.createElement("div",{className:"column"},o.a.createElement("div",{className:"statistic"},o.a.createElement("div",{className:"label"},"Cases"),o.a.createElement("div",{className:"value"},t.toLocaleString()))),o.a.createElement("div",{className:"column"},o.a.createElement("div",{className:"statistic"},o.a.createElement("div",{className:"label"},"Currently Hospitalized"),o.a.createElement("div",{className:"value"},a.toLocaleString()))),o.a.createElement("div",{className:"column"},o.a.createElement("div",{className:"statistic"},o.a.createElement("div",{className:"label"},"Deaths"),o.a.createElement("div",{className:"value"},n.toLocaleString())))))}return o.a.createElement(O,{message:"Loading Stats..."})}}]),a}(o.a.Component),D=a(94),I=a.n(D),z=a(156),P=a.n(z),T=a(157),L=a.n(T),V=a(158),R=a.n(V),H=a(159),A=a.n(H),W=a(160),B=a.n(W),F=a(161),U=a.n(F),q=a(162),G=a.n(q),J=a(163),Y=a.n(J),K=a(164),X=a.n(K),Q=a(165),Z=a.n(Q),$=a(166),ee=a.n($),te=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).setRandomPhotoMessage=function(){var e=n.props,t=e.slope,a=e.stateName;t>5?(n.altText="Disappointed",n.message="".concat(n.moose," is \n            ").concat(n.disappointedMessages[Math.floor(Math.random()*n.disappointedMessages.length)]," \n            ").concat(a),n.photo=n.disappointedPhotos[Math.floor(Math.random()*n.disappointedPhotos.length)]):t>=0?(n.altText="Concerned",n.message="".concat(n.moose," is \n            ").concat(n.concernedMessages[Math.floor(Math.random()*n.concernedMessages.length)]," \n            ").concat(a),n.photo=n.concernedPhotos[Math.floor(Math.random()*n.concernedPhotos.length)]):t>=-5?(n.altText="Optimistic",n.message="".concat(n.moose," is \n            ").concat(n.optimisticMessages[Math.floor(Math.random()*n.optimisticMessages.length)]," \n            ").concat(a),n.photo=n.optimisticPhotos[Math.floor(Math.random()*n.optimisticPhotos.length)]):(n.altText="Happy",n.message="".concat(n.moose," is \n            ").concat(n.happyMessages[Math.floor(Math.random()*n.happyMessages.length)]," \n            ").concat(a),n.photo=n.happyPhotos[Math.floor(Math.random()*n.happyPhotos.length)])},n.show=function(){return n.setState({show:!0})},n.hide=function(){return n.setState({show:!1})},n.state={show:!1},n.happyPhotos=[P.a,L.a,R.a,A.a],n.disappointedPhotos=[B.a,U.a,G.a,Y.a,X.a],n.concernedPhotos=[Z.a],n.optimisticPhotos=[ee.a],n.moose="Moose",n.happyMessages=["happy to see COVID cases going down in","quite pleased to see the number of COVID cases going down in","glad to see a downward trend in COVID cases in"],n.disappointedMessages=["disappointed to see COVID cases going up in","a bit miffed to see the number of COVID cases going up in","displeased to see an upward trend in COVID cases in"],n.concernedMessages=["concerned about COVID cases going up in"],n.optimisticMessages=["optimistic about COVID cases going down in"],n.photo=null,n.message="",n.altText="",n.setRandomPhotoMessage(),n}return Object(c.a)(a,[{key:"render",value:function(){return this.state.show?o.a.createElement("div",null,o.a.createElement("p",{className:"".concat(I.a.msg," center-text"),key:"1"},this.message),o.a.createElement("img",{className:"".concat(I.a.image," center-image"),src:this.photo,alt:this.altText,key:"2"})):null}}]),a}(o.a.Component),ae=a(168),ne=function(e){var t=o.a.useState(!0),a=Object(ae.a)(t,2),n=a[0],s=a[1],i=o.a.useRef();return o.a.useEffect((function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){return s(e.isIntersecting)}))})),t=i.current;return e.observe(t),function(){return e.unobserve(t)}}),[]),o.a.createElement("div",{className:"fade-in-section ".concat(n?"is-visible":""),ref:i},e.children)},oe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).chartLoaded=function(){n.spinnerControl.current.hide(),n.gradeComponent.current.show()},n.buildChart=function(e){window.google.charts.setOnLoadCallback((function(){return n.drawBasic(e)}))},n.setChartOptions=function(){n.options={title:"Seven Day COVID Case Count",legend:"none",vAxis:{title:"Number of Cases"},colors:["#004411"],backgroundColor:"transparent",fontName:"Lato",titleTextStyle:{bold:!1}}},n.setResizeChartOptions=function(){window.innerWidth<=600?(n.options.titleTextStyle.fontSize=18,n.options.height=400,n.options.fontSize=14):(n.options.titleTextStyle.fontSize=25,n.options.height=500,n.options.fontSize=16)},n.drawBasic=function(e){n.data=new window.google.visualization.DataTable,n.data.addColumn("string","Date"),n.data.addColumn("number","Cases"),n.data.addRows(e),n.chart=new window.google.visualization.ColumnChart(document.getElementById("chart_div")),window.google.visualization.events.addListener(n.chart,"ready",n.chartLoaded),n.drawChart()},n.resizeChart=function(){n.chart&&n.data&&n.options&&(n.setResizeChartOptions(),n.drawChart())},n.drawChart=function(){n.chart.draw(n.data,n.options)},n.fetchHistoryStats=Object(S.a)(w.a.mark((function e(){var t,a,o,s,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.get("states/".concat(n.props.stateCode,"/daily.json"),{cancelToken:n.source.token});case 3:t=e.sent,n.responseStatus=t.status,7,a=7,o=(o=t.data.slice(0,7).map((function(e){var t=e.date,n=e.positiveIncrease;return{date:t.toString(),positiveIncrease:n,day:a--}}))).reverse(),s=n.calculateSlope(o),i=o.map((function(e){var t=e.date,a=e.positiveIncrease,n=t.substring(4,6),o=t.substring(6,8);return["".concat(n,"/").concat(o),a]})),n.setState({historyStats:i,slope:s}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),n.calculateSlope=function(e){if(e.length>0){var t=function(e){return e.reduce((function(e,t){return e+t}))},a=function(e){return e.reduce((function(e,t){return e+t}))/e.length},n=e.map((function(e){return e.day})),o=e.map((function(e){return e.positiveIncrease})),s=a(n),i=a(o),r=e.map((function(e){var t=e.day,a=e.positiveIncrease,n=t-s;return{product:n*(a-i),xiMinusMeanXSquared:n*n}})),c=r.map((function(e){return e.product})),l=r.map((function(e){return e.xiMinusMeanXSquared})),u=t(c),d=t(l);return 0===d?0:u/d}},n.spinnerControl=o.a.createRef(),n.gradeComponent=o.a.createRef(),n.data=null,n.options=null,n.chart=null,n.source=M.a.CancelToken.source(),n.responseStatus=null,n.state={historyStats:[],slope:0},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){window.google&&(window.google.charts.load("current",{packages:["corechart"]}),this.fetchHistoryStats(),this.setChartOptions(),this.setResizeChartOptions(),window.onresize=this.resizeChart)}},{key:"componentWillUnmount",value:function(){null===this.responseStatus&&this.source.cancel("fetch canceled")}},{key:"render",value:function(){return this.state.historyStats.length>0?(this.buildChart(this.state.historyStats),console.log("slope: ".concat(this.state.slope.toFixed(2))),o.a.createElement("div",{className:"padding-top-space"},o.a.createElement(O,{ref:this.spinnerControl,message:"Loading Chart..."}),o.a.createElement(ne,null,o.a.createElement("div",{id:"chart_div",className:"padding-bottom-space"})),o.a.createElement(ne,null,o.a.createElement(te,{ref:this.gradeComponent,slope:this.state.slope,stateName:this.props.stateName,key:this.props.stateName})))):o.a.createElement(O,{message:"Loading Chart..."})}}]),a}(o.a.Component),se=a(43),ie=a.n(se),re=function(){return o.a.createElement("div",{className:ie.a.footer},o.a.createElement("div",{className:ie.a.position},o.a.createElement("div",{className:ie.a.padding},"Data provided by \xa0",o.a.createElement("a",{className:ie.a.link,href:"https://www.covidtracking.com"},"The COVID Tracking Project"),"."),o.a.createElement("div",null,"Chart built using \xa0",o.a.createElement("a",{className:ie.a.link,href:"https://developers.google.com/chart"},"Google Charts"),".")))},ce=(a(317),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={stateCode:"nc",stateName:"North Carolina"},e.onSelectionSubmit=function(t,a){e.setState({stateCode:t,stateName:a})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=e.stateCode,a=e.stateName;return o.a.createElement("div",null,o.a.createElement(d.a,null,o.a.createElement(y,null),o.a.createElement(b,{onSelectionSubmit:this.onSelectionSubmit,defaultStateCode:t,defaultStateName:a}),o.a.createElement(_,{key:"1"+t,stateCode:this.state.stateCode}),o.a.createElement(oe,{key:"2"+t,stateCode:t,stateName:a})),o.a.createElement(re,null))}}]),a}(o.a.PureComponent));a(318);i.a.render(o.a.createElement(ce,null),document.querySelector("#root"))},43:function(e,t,a){e.exports={footer:"Footer_footer__1Y-gr",position:"Footer_position__-g7sO",padding:"Footer_padding__sDz-p",link:"Footer_link__Y6PBR"}},70:function(e,t,a){e.exports={header:"Header_header__2Hndp",headerlogo:"Header_headerlogo__3-U3L",titlelogo:"Header_titlelogo__1tu-3"}},94:function(e,t,a){e.exports={image:"Grade_image__32zvV",msg:"Grade_msg__24af4"}}},[[180,1,2]]]);
//# sourceMappingURL=main.5f806715.chunk.js.map