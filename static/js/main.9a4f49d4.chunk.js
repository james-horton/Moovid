(this.webpackJsonpmoovid=this.webpackJsonpmoovid||[]).push([[0],{140:function(e,t,a){e.exports=a.p+"static/media/moo.2f8831eb.png"},141:function(e,t,a){e.exports=a.p+"static/media/moovid-logo.7d14eba4.png"},156:function(e,t,a){e.exports=a.p+"static/media/happy1.1e635bb8.jpg"},157:function(e,t,a){e.exports=a.p+"static/media/happy2.676cc9ba.jpg"},158:function(e,t,a){e.exports=a.p+"static/media/happy3.b918185e.jpg"},159:function(e,t,a){e.exports=a.p+"static/media/happy4.e3f958a6.jpg"},160:function(e,t,a){e.exports=a.p+"static/media/disappointed1.b799bc0f.jpg"},161:function(e,t,a){e.exports=a.p+"static/media/disappointed2.e975cc20.jpg"},162:function(e,t,a){e.exports=a.p+"static/media/disappointed3.abd85bf4.jpg"},163:function(e,t,a){e.exports=a.p+"static/media/disappointed4.ee5122c5.jpg"},164:function(e,t,a){e.exports=a.p+"static/media/disappointed5.bcfe1c1a.jpg"},165:function(e,t,a){e.exports=a.p+"static/media/concerned1.5b3a9be0.jpg"},166:function(e,t,a){e.exports=a.p+"static/media/optimistic1.6a38bbac.jpg"},180:function(e,t,a){e.exports=a(320)},318:function(e,t,a){},320:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(27),i=a.n(o),r=a(7),c=a(14),l=a(10),u=a(9),d=a(325),m=a(70),p=a.n(m),h=a(140),v=a.n(h),g=a(141),f=a.n(g),y=function(){return s.a.createElement("div",{className:p.a.header},s.a.createElement("img",{className:"".concat(p.a.headerlogo," center-image"),src:v.a,alt:"avatar"}),s.a.createElement("img",{className:"".concat(p.a.titlelogo," center-image"),src:f.a,alt:"logo"}))},k=a(327),b=a(328),x=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onSelectionChange=function(e,t){var a=t.value;n.setState({stateCode:a,stateName:e.currentTarget.textContent})},n.onFormSubmit=function(e){e.preventDefault(),n.props.onSelectionSubmit(n.state.stateCode,n.state.stateName)},n.stateOptions=[{key:"al",text:"Alabama",value:"al"},{key:"ak",text:"Alaska",value:"ak"},{key:"az",text:"Arizona",value:"az"},{key:"ar",text:"Arkansas",value:"ar"},{key:"ca",text:"California",value:"ca"},{key:"co",text:"Colorado",value:"co"},{key:"ct",text:"Connecticut",value:"ct"},{key:"de",text:"Delaware",value:"de"},{key:"dc",text:"District Of Columbia",value:"dc"},{key:"fl",text:"Florida",value:"fl"},{key:"ga",text:"Georgia",value:"ga"},{key:"hi",text:"Hawaii",value:"hi"},{key:"id",text:"Idaho",value:"id"},{key:"il",text:"Illinois",value:"il"},{key:"in",text:"Indiana",value:"in"},{key:"ks",text:"Kansas",value:"ks"},{key:"ky",text:"Kentucky",value:"ky"},{key:"la",text:"Louisiana",value:"la"},{key:"me",text:"Maine",value:"me"},{key:"md",text:"Maryland",value:"md"},{key:"ma",text:"Massachusetts",value:"ma"},{key:"mi",text:"Michigan",value:"mi"},{key:"mn",text:"Minnesota",value:"mn"},{key:"ms",text:"Mississippi",value:"ms"},{key:"mo",text:"Missouri",value:"mo"},{key:"mt",text:"Montana",value:"mt"},{key:"ne",text:"Nebraska",value:"ne"},{key:"nv",text:"Nevada",value:"nv"},{key:"nh",text:"New Hampshire",value:"nh"},{key:"nj",text:"New Jersey",value:"nj"},{key:"nm",text:"New Mexico",value:"nm"},{key:"ny",text:"New York",value:"ny"},{key:"nc",text:"North Carolina",value:"nc"},{key:"nd",text:"North Dakota",value:"nd"},{key:"oh",text:"Ohio",value:"oh"},{key:"ok",text:"Oklahoma",value:"ok"},{key:"or",text:"Oregon",value:"or"},{key:"pa",text:"Pennsylvania",value:"pa"},{key:"ri",text:"Rhode Island",value:"ri"},{key:"sc",text:"South Carolina",value:"sc"},{key:"sd",text:"South Dakota",value:"sd"},{key:"tn",text:"Tennessee",value:"tn"},{key:"tx",text:"Texas",value:"tx"},{key:"ut",text:"Utah",value:"ut"},{key:"vt",text:"Vermont",value:"vt"},{key:"va",text:"Virginia",value:"va"},{key:"wa",text:"Washington",value:"wa"},{key:"wv",text:"West Virginia",value:"wv"},{key:"wi",text:"Wisconsin",value:"wi"},{key:"wy",text:"Wyoming",value:"wy"}],n.state={stateCode:e.defaultStateCode,stateName:e.defaultStateName},n}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"center-text padding-bottom-space"},s.a.createElement("form",{onSubmit:this.onFormSubmit},s.a.createElement(k.a,{placeholder:"State",search:!0,selection:!0,value:this.state.stateCode,onChange:this.onSelectionChange,options:this.stateOptions}),s.a.createElement(b.a,{basic:!0,color:"green",type:"submit"}," Submit")))}}]),a}(s.a.Component),C=a(41),w=a.n(C),O=a(68),S=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={show:!0},e.show=function(){return e.setState({show:!0})},e.hide=function(){return e.setState({show:!1})},e.isShowing=function(){return e.state.show},e}return Object(c.a)(a,[{key:"render",value:function(){return this.state.show?s.a.createElement("div",{className:"padding-bottom-space"},s.a.createElement("div",{className:"ui active centered inline huge text loader"},s.a.createElement("div",{className:"ui text loader"},"Loading"),this.props.message)):null}}]),a}(s.a.Component);S.defaultProps={message:"Loading..."};var j=S,N=a(38),E=a.n(N),_=E.a.create({baseURL:"https://api.covidtracking.com/v1/"}),M=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).fetchOverviewStats=Object(O.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.get("states/".concat(n.props.stateCode,"/current.json"),{cancelToken:n.source.token});case 3:t=e.sent,n.responseStatus=t.status,n.setState({currentStats:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),n.state={currentStats:null},n.source=E.a.CancelToken.source(),n.responseStatus=null,n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.fetchOverviewStats()}},{key:"componentWillUnmount",value:function(){null===this.responseStatus&&this.source.cancel("fetch cancelled")}},{key:"render",value:function(){if(this.state.currentStats){var e=this.state.currentStats,t=e.positive,a=e.hospitalizedCurrently,n=e.death;return s.a.createElement("div",{className:"padding-bottom-space"},s.a.createElement("div",{className:"ui stackable three column grid statistics"},s.a.createElement("div",{className:"column"},s.a.createElement("div",{className:"statistic"},s.a.createElement("div",{className:"label"},"Cases"),s.a.createElement("div",{className:"value"},t.toLocaleString()))),s.a.createElement("div",{className:"column"},s.a.createElement("div",{className:"statistic"},s.a.createElement("div",{className:"label"},"Currently Hospitalized"),s.a.createElement("div",{className:"value"},a.toLocaleString()))),s.a.createElement("div",{className:"column"},s.a.createElement("div",{className:"statistic"},s.a.createElement("div",{className:"label"},"Deaths"),s.a.createElement("div",{className:"value"},n.toLocaleString())))))}return s.a.createElement(j,{message:"Loading Stats..."})}}]),a}(s.a.Component),D=a(94),I=a.n(D),z=function e(t){var a=this;Object(r.a)(this,e),this.getRandomPhoto=function(){return a.photos[Math.floor(Math.random()*a.photos.length)]},this.getRandomMessage=function(){return"".concat(a.name," is \n            ").concat(a.messages[Math.floor(Math.random()*a.messages.length)]," \n            ").concat(a.stateName)},this.setRandomPhotoMessage=function(){a.message=a.getRandomMessage(a.messages),a.photo=a.getRandomPhoto(a.photos)},this.stateName=t,this.name="Moose",this.photos=[],this.messages=[],this.photo=null,this.message="",this.altText=""},R=a(156),T=a.n(R),L=a(157),V=a.n(L),P=a(158),H=a.n(P),F=a(159),A=a.n(F),W=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).altText="Happy",n.photos=[T.a,V.a,H.a,A.a],n.messages=["happy to see COVID cases going down in","quite pleased to see the number of COVID cases going down in","glad to see a downward trend in COVID cases in"],n.setRandomPhotoMessage(),n}return a}(z),G=a(160),U=a.n(G),q=a(161),B=a.n(q),J=a(162),Y=a.n(J),K=a(163),X=a.n(K),Q=a(164),Z=a.n(Q),$=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).altText="Disappointed",n.photos=[U.a,B.a,Y.a,X.a,Z.a],n.messages=["disappointed to see COVID cases going up in","a bit miffed to see the number of COVID cases going up in","displeased to see an upward trend in COVID cases in"],n.setRandomPhotoMessage(),n}return a}(z),ee=a(165),te=a.n(ee),ae=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).altText="Concerned",n.photos=[te.a],n.messages=["concerned about COVID cases going up in"],n.setRandomPhotoMessage(),n}return a}(z),ne=a(166),se=a.n(ne),oe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).altText="Optimistic",n.photos=[se.a],n.messages=["optimistic about COVID cases going down in"],n.setRandomPhotoMessage(),n}return a}(z),ie=function e(){Object(r.a)(this,e)};ie.getGrade=function(e,t){var a=0,n=-5;return e>5?new $(t):e>=a?new ae(t):e>=n?new oe(t):new W(t)};var re=ie,ce=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).show=function(){return n.setState({show:!0})},n.hide=function(){return n.setState({show:!1})},n.state={show:!1},n.grade=re.getGrade(n.props.slope,n.props.stateName),n}return Object(c.a)(a,[{key:"render",value:function(){return this.state.show?s.a.createElement("div",null,s.a.createElement("p",{className:"".concat(I.a.msg," center-text"),key:"1"},this.grade.message),s.a.createElement("img",{className:"".concat(I.a.image," center-image"),src:this.grade.photo,alt:this.grade.altText,key:"2"})):null}}]),a}(s.a.Component),le=a(168),ue=function(e){var t=s.a.useState(!0),a=Object(le.a)(t,2),n=a[0],o=a[1],i=s.a.useRef();return s.a.useEffect((function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){return o(e.isIntersecting)}))})),t=i.current;return e.observe(t),function(){return e.unobserve(t)}}),[]),s.a.createElement("div",{className:"fade-in-section ".concat(n?"is-visible":""),ref:i},e.children)},de=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).chartLoaded=function(){n.spinnerControl.current.hide(),n.gradeComponent.current.show()},n.buildChart=function(e){window.google.charts.setOnLoadCallback((function(){return n.drawBasic(e)}))},n.setChartOptions=function(){n.options={title:"Seven Day COVID Case Count",legend:"none",vAxis:{title:"Number of Cases"},colors:["#004411"],backgroundColor:"transparent",fontName:"Lato",titleTextStyle:{bold:!1}}},n.setResizeChartOptions=function(){window.innerWidth<=600?(n.options.titleTextStyle.fontSize=18,n.options.height=400,n.options.fontSize=14):(n.options.titleTextStyle.fontSize=25,n.options.height=500,n.options.fontSize=16)},n.drawBasic=function(e){n.data=new window.google.visualization.DataTable,n.data.addColumn("string","Date"),n.data.addColumn("number","Cases"),n.data.addRows(e),n.chart=new window.google.visualization.ColumnChart(document.getElementById("chart_div")),window.google.visualization.events.addListener(n.chart,"ready",n.chartLoaded),n.drawChart()},n.resizeChart=function(){n.chart&&n.data&&n.options&&(n.setResizeChartOptions(),n.drawChart())},n.drawChart=function(){n.chart.draw(n.data,n.options)},n.fetchHistoryStats=Object(O.a)(w.a.mark((function e(){var t,a,s,o,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.get("states/".concat(n.props.stateCode,"/daily.json"),{cancelToken:n.source.token});case 3:t=e.sent,n.responseStatus=t.status,7,a=7,s=(s=t.data.slice(0,7).map((function(e){var t=e.date,n=e.positiveIncrease;return{date:t.toString(),positiveIncrease:n,day:a--}}))).reverse(),o=n.calculateSlope(s),i=s.map((function(e){var t=e.date,a=e.positiveIncrease,n=t.substring(4,6),s=t.substring(6,8);return["".concat(n,"/").concat(s),a]})),n.setState({historyStats:i,slope:o}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),n.calculateSlope=function(e){if(e.length>0){var t=function(e){return e.reduce((function(e,t){return e+t}))},a=function(e){return e.reduce((function(e,t){return e+t}))/e.length},n=e.map((function(e){return e.day})),s=e.map((function(e){return e.positiveIncrease})),o=a(n),i=a(s),r=e.map((function(e){var t=e.day,a=e.positiveIncrease,n=t-o;return{product:n*(a-i),xiMinusMeanXSquared:n*n}})),c=r.map((function(e){return e.product})),l=r.map((function(e){return e.xiMinusMeanXSquared})),u=t(c),d=t(l);return 0===d?0:u/d}},n.spinnerControl=s.a.createRef(),n.gradeComponent=s.a.createRef(),n.data=null,n.options=null,n.chart=null,n.source=E.a.CancelToken.source(),n.responseStatus=null,n.state={historyStats:[],slope:0},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){window.google&&(window.google.charts.load("current",{packages:["corechart"]}),this.fetchHistoryStats(),this.setChartOptions(),this.setResizeChartOptions(),window.onresize=this.resizeChart)}},{key:"componentWillUnmount",value:function(){null===this.responseStatus&&this.source.cancel("fetch canceled")}},{key:"render",value:function(){return this.state.historyStats.length>0?(this.buildChart(this.state.historyStats),console.log("slope: ".concat(this.state.slope.toFixed(2))),s.a.createElement("div",{className:"padding-top-space"},s.a.createElement(j,{ref:this.spinnerControl,message:"Loading Chart..."}),s.a.createElement(ue,null,s.a.createElement("div",{id:"chart_div",className:"padding-bottom-space"})),s.a.createElement(ue,null,s.a.createElement(ce,{ref:this.gradeComponent,slope:this.state.slope,stateName:this.props.stateName,key:this.props.stateName})))):s.a.createElement(j,{message:"Loading Chart..."})}}]),a}(s.a.Component),me=a(43),pe=a.n(me),he=function(){return s.a.createElement("div",{className:pe.a.footer},s.a.createElement("div",{className:pe.a.position},s.a.createElement("div",{className:pe.a.padding},"Data provided by \xa0",s.a.createElement("a",{className:pe.a.link,href:"https://www.covidtracking.com"},"The COVID Tracking Project"),"."),s.a.createElement("div",null,"Chart built using \xa0",s.a.createElement("a",{className:pe.a.link,href:"https://developers.google.com/chart"},"Google Charts"),".")))},ve=(a(318),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={stateCode:"nc",stateName:"North Carolina"},e.onSelectionSubmit=function(t,a){e.setState({stateCode:t,stateName:a})},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=e.stateCode,a=e.stateName;return s.a.createElement("div",null,s.a.createElement(d.a,null,s.a.createElement(y,null),s.a.createElement(x,{onSelectionSubmit:this.onSelectionSubmit,defaultStateCode:t,defaultStateName:a}),s.a.createElement(M,{key:"1"+t,stateCode:this.state.stateCode}),s.a.createElement(de,{key:"2"+t,stateCode:t,stateName:a})),s.a.createElement(he,null))}}]),a}(s.a.PureComponent));a(319);i.a.render(s.a.createElement(ve,null),document.querySelector("#root"))},43:function(e,t,a){e.exports={footer:"Footer_footer__1Y-gr",position:"Footer_position__-g7sO",padding:"Footer_padding__sDz-p",link:"Footer_link__Y6PBR"}},70:function(e,t,a){e.exports={header:"Header_header__2Hndp",headerlogo:"Header_headerlogo__3-U3L",titlelogo:"Header_titlelogo__1tu-3"}},94:function(e,t,a){e.exports={image:"Grade_image__32zvV",msg:"Grade_msg__24af4"}}},[[180,1,2]]]);
//# sourceMappingURL=main.9a4f49d4.chunk.js.map